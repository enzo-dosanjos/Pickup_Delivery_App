@startuml
title UC12 - Modifier l’ordre des livraisons

actor User
participant "TourController" as TC
participant "TourService" as TS
participant "TSP1" as TSP1

User -> TC : updateRequestOrder(requestBeforeId, requestAfterId)
activate TC

TC -> TS : updateRequestOrder(requestBeforeId, requestAfterId)
activate TS

TS -> TS : apply precedence constraint(requestBeforeId, requestAfterId, courierId)
TS -> TS : computeTourForCourier(courierId)
TS -> TSP1 : chercheSolution(...)
activate TSP1
TSP1 --> TS : bestTour
deactivate TSP1

TS --> TC : updatedTour
deactivate TS

TC --> User : "Ordre modifié et tournée recalculée"
deactivate TC
@enduml
